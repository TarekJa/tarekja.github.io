<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="حاسبة العمر المباشر بالثواني والدقائق والساعات والأيام. أدخل تاريخ ووقت الميلاد وشاهد العمر يتحدث لحظيًا.">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#0f172a">

  <link rel="canonical" href="https://tarekja.github.io/">
  <link rel="icon" href="assets/img/favicon.ico">
  <link rel="apple-touch-icon" href="assets/img/favicon-512.png">
  <link rel="manifest" href="/manifest.json">

  <meta property="og:title" content="Live Age Calculator | حاسبة العمر المباشر">
  <meta property="og:description" content="احسب عمرك بشكل مباشر بالسنوات والأشهر والأيام والساعات والدقائق والثواني.">
  <meta property="og:url" content="https://tarekja.github.io/">
  <meta property="og:type" content="website">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FZ91MD319E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-FZ91MD319E', { anonymize_ip: true });
  </script>

  <!-- Google AdSense script (تحميل مرة واحدة) -->
  <meta name="google-adsense-account" content="ca-pub-3878960602510145">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3878960602510145"
          crossorigin="anonymous"></script>

  <title>Live Age Calculator | حاسبة العمر المباشر</title>
  <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
  <div class="page">
    <div class="container">
      <div class="box">

        <!-- إعلان أول – أعلى الصفحة (responsive) -->
        <ins class="adsbygoogle top-ad"
             style="display:block; margin: 0 auto 16px auto; text-align:center;"
             data-ad-client="ca-pub-3878960602510145"
             data-ad-slot="XXXXXXXXXX"           <!-- ← غيّر هذا برقم الـ slot الجديد من AdSense -->
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

        <div class="topbar">
          <div class="lang-wrap">
            <span id="uiLangLabel">اللغة</span>
            <select id="langSelect" aria-label="Language selector">
              <option value="ar">العربية</option>
              <option value="tr">Türkçe</option>
              <option value="en">English</option>
            </select>
          </div>
        </div>

        <h1 id="title">حاسبة العمر المباشر</h1>

        <div class="subnote" id="subnote">
          أدخل تاريخ ووقت الميلاد ثم شاهد العمر يتحدث كل ثانية.<br>
          (السنوات والأشهر محسوبة بدقة تقويمية – الأيام والساعات والدقائق والثواني دقيقة 100%)
        </div>

        <div class="field">
          <label for="name" id="lblName">الاسم</label>
          <input type="text" id="name" placeholder="أدخل الاسم" maxlength="40">
          <div class="hint" id="hintName">اختياري. إذا تركته فارغًا سيظهر العنوان العام بدون اسم.</div>
        </div>

        <div class="field">
          <label for="birthDate" id="lblBirthDate">تاريخ الميلاد</label>
          <input type="date" id="birthDate">
          <div class="hint" id="hintBirthDate">مطلوب. اختر التاريخ من التقويم.</div>
        </div>

        <div class="field">
          <label for="birthTime" id="lblBirthTime">ساعة الميلاد</label>
          <input type="time" id="birthTime" step="1">
          <div class="hint" id="hintBirthTime">
            اختياري. إذا تركته فارغًا سنعتبر الوقت <b>00:00:00</b>.<br>
            النظام 24 ساعة: مثال <b>07:30</b> (صباحًا) أو <b>19:30</b> (مساءً).
          </div>
          <div class="hint" id="timePreview"></div>
        </div>

        <div class="actions">
          <button id="btnStart" class="btn" onclick="start()">احسب العمر</button>
          <button id="btnReset" class="secondary" onclick="resetApp()">مسح</button>
        </div>

        <div class="share-row" id="shareRow" style="display:none;">
          <button class="share-btn" id="btnShare" onclick="shareResult()">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M18 16a3 3 0 0 0-2.4 1.2l-6.2-3.1a3 3 0 0 0 0-2.2l6.2-3.1A3 3 0 1 0 15 6a3 3 0 0 0 .1.7L8.9 9.8a3 3 0 1 0 0 4.4l6.2 3.1A3 3 0 1 0 18 16z"/>
            </svg>
            <span id="shareBtnText">مشاركة</span>
          </button>
        </div>

        <!-- النتائج الأساسية -->
        <div class="section" id="liveSection" style="display:none;">
          <div class="section-title">
            <span id="liveTitle">عمرك الآن</span>
            <span class="badge" id="tzBadge">توقيت تركيا</span>
          </div>
          <div class="rows">
            <div class="row"><div class="label" id="rYears">السنوات</div><div class="value" id="years"></div></div>
            <div class="row"><div class="label" id="rMonths">الأشهر</div><div class="value" id="months"></div></div>
            <div class="row"><div class="label" id="rWeeks">الأسابيع</div><div class="value" id="weeks"></div></div>
            <div class="row"><div class="label" id="rDays">الأيام</div><div class="value" id="days"></div></div>
            <div class="row"><div class="label" id="rHours">الساعات</div><div class="value" id="hours"></div></div>
            <div class="row"><div class="label" id="rMinutes">الدقائق</div><div class="value" id="minutes"></div></div>
            <div class="row"><div class="label" id="rSeconds">الثواني</div><div class="value" id="seconds"></div></div>
          </div>
        </div>

        <!-- إعلان ثاني – بعد النتائج الرئيسية (rectangle) -->
        <ins class="adsbygoogle mid-ad"
             style="display:block; margin: 20px auto; text-align:center;"
             data-ad-client="ca-pub-3878960602510145"
             data-ad-slot="XXXXXXXXXX"           <!-- ← غيّر هذا برقم slot جديد -->
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

        <!-- عيد الميلاد القادم -->
        <div class="section" id="bdaySection" style="display:none;">
          <div class="section-title">
            <span id="bdayTitle">عيد ميلادك القادم</span>
            <span class="badge" id="bdayTzBadge">توقيت تركيا</span>
          </div>
          <div class="rows">
            <div class="row">
              <div class="label" id="bdayLeftLbl">باقي لعيد ميلادك القادم:</div>
              <div class="value rtl" id="bdayLeftVal"></div>
            </div>
            <div class="row"><div class="label" id="bdayWillLbl">سيكون عيد ميلادك يوم:</div><div class="value" id="bdayWillVal"></div></div>
            <div class="row"><div class="label" id="bdayHijriLbl">الموافق:</div><div class="value" id="bdayHijriVal"></div></div>
          </div>
        </div>

        <!-- العمر الهجري -->
        <div class="section" id="hijriSection" style="display:none;">
          <div class="section-title">
            <span id="hTitle">العمر حسب التقويم الهجري</span>
            <span class="badge" id="hBadge">Umm al-Qura</span>
          </div>
          <div class="rows">
            <div class="row"><div class="label" id="hBirthLbl">تاريخ الميلاد:</div><div class="value" id="hBirthVal"></div></div>
            <div class="row"><div class="label" id="hMonthLbl">شهر الميلاد:</div><div class="value" id="hMonthVal"></div></div>
            <div class="row"><div class="label" id="hAgeLbl">العمر:</div><div class="value" id="hAgeVal"></div></div>
          </div>
          <div class="hint" id="hHint"></div>
          <div class="hint" id="hDiffHint"></div>
        </div>

        <!-- معلومات إضافية -->
        <div class="section" id="moreSection" style="display:none;">
          <div class="section-title">
            <span id="moreTitle">معلومات أكثر عن عمرك</span>
            <span class="badge" id="moreBadge"></span>
          </div>
          <div class="rows">
            <div class="row"><div class="label" id="bornDayLbl">ولدت يوم:</div><div class="value" id="bornDayVal"></div></div>
            <div class="row"><div class="label" id="bornSeasonLbl">ولدت في فصل:</div><div class="value" id="bornSeasonVal"></div></div>
            <div class="row"><div class="label" id="zodiacLbl">برجك:</div><div class="value" id="zodiacVal"></div></div>
            <div class="row"><div class="label" id="sleepLbl">نومك الصحي:</div><div class="value" id="sleepVal"></div></div>
          </div>
        </div>

        <div class="footer">
          <div>
            <span id="usefulLinks">روابط مفيدة:</span>
            <a href="about.html" id="lnkAbout">من نحن</a> ·
            <a href="privacy.html" id="lnkPrivacy">سياسة الخصوصية</a> ·
            <a href="#contact" onclick="openDetails('contact')" id="lnkContact">تواصل</a>
          </div>

          <details id="about">
            <summary id="sumAbout">من نحن</summary>
            <p id="aboutText">
              هذه أداة بسيطة لحساب العمر بشكل مباشر (Real-time) عبر إدخال تاريخ ووقت الميلاد.
              الهدف هو تقديم تجربة سريعة وخفيفة تعمل على الجوال والكمبيوتر.
            </p>
          </details>

          <details id="contact">
            <summary id="sumContact">تواصل</summary>
            <p id="contactIntro">إذا عندك اقتراحات أو ملاحظات على الموقع، تواصل معي عبر الوسائل التالية:</p>
            <p>
              <b id="cNameLbl">الاسم:</b> <span id="cNameVal">Tarek Jawish</span><br>
              <b id="cRoleLbl">الصفة:</b> <span id="cRoleVal">MEAL Expert</span><br>
              <b id="cEmailLbl">البريد:</b> <a href="mailto:tarekjawish89@gmail.com">tarekjawish89@gmail.com</a><br>
              <b id="cLinkedLbl">LinkedIn:</b>
              <a href="https://www.linkedin.com/in/tarek-jawish-890998106/" target="_blank" rel="noopener noreferrer" id="cLinkedText">الملف الشخصي</a>
            </p>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Share fallback modal -->
  <div class="modal" id="shareModal" role="dialog" aria-modal="true" aria-label="Share dialog">
    <div class="modal-card">
      <div class="modal-head">
        <div class="modal-title" id="shareModalTitle">مشاركة</div>
        <button class="xbtn" onclick="closeShareModal()">×</button>
      </div>
      <div class="share-grid">
        <button class="share-chip" id="shWhats" onclick="shareTo('whatsapp')">WhatsApp</button>
        <button class="share-chip" id="shX" onclick="shareTo('x')">X</button>
        <button class="share-chip" id="shFB" onclick="shareTo('facebook')">Facebook</button>
        <button class="share-chip" id="shCopy" onclick="copyShare()">Copy</button>
      </div>
      <div class="copybox">
        <input id="shareLink" type="text" readonly value="">
      </div>
      <div class="toast" id="shareToast"></div>
    </div>
  </div>

  <script src="assets/js/app.js"></script>

  <!-- تسجيل Service Worker لدعم PWA -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(reg => console.log('Service Worker registered', reg))
          .catch(err => console.log('Service Worker registration failed', err));
      });
    }
  </script>
</body>
</html>
